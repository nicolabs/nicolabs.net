<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="shortcut icon" type="image/png" href="/assets/about/favicon.ico"> <title> nicolabs | </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="website"> <meta property="og:url" content="http://*:4000/assets/lib/mastodon-timeline-widget/"> <meta property="og:title" content=" nicolabs | "> <meta property="og:image" content="http://*:4000"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" nicolabs | "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="http://*:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="http://*:4000"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/cactus.css" type="text/css"> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://*:4000/assets/lib/mastodon-timeline-widget/"> <link type="application/atom+xml" rel="alternate" href="http://*:4000/feed.xml" title="nicolabs" /> <script type="text/javascript" src="/assets/lib/cactus.js"></script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> <script> window.onscroll = function() { if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) { document.querySelector('.site-header').classList.add('site-header-pinned'); } else { document.querySelector('.site-header').classList.remove('site-header-pinned'); } }; </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/articles">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="page container"> <header class="page-header"> <h1 class="page-title"></h1> </header> <div class="page-content"> <p><a href="/assets/lib/mastodon-timeline-widget/README_en">English version</a></p> <p>Fork of https://github.com/AzetJP/mastodon-timeline-widget.</p> <h1 id="mastodonwidgetについて">Mastodon.widgetについて</h1> <p>このJSで作られたウィジェットはあなたのホームページにマストドンのタイムラインを表示します。</p> <h2 id="要件">要件</h2> <ul> <li>jQuery</li> <li>ウィジェットに表示したいマストドンのインスタンスのアクセストークン</li> </ul> <p>設定がしやすい用に、ウィザードを作りましたので、よろしければご利用下さい。<br /> <a href="http://www.azet.jp/mastodon.wizard/wizard_jp.html">Azet.jpのマストドンウィジェットウィザード</a></p> <h2 id="設定">設定</h2> <p>1) 必要なファイルをダウンロードをして下さい(CSSファイルとJSファイル).</p> <p>2) 下記のコードをホームページに入れてください：</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"mastodon.widget.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"mastodon.widget.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"mastodon.widget-jp.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
	<span class="nf">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nf">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// jQUERY is required!</span>
		<span class="kd">var</span> <span class="nx">mapi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MastodonApi</span><span class="p">({</span>
			<span class="na">target_selector</span>          <span class="p">:</span> <span class="dl">'</span><span class="s1">#myTimeline</span><span class="dl">'</span>
			<span class="p">,</span><span class="na">instance_uri</span>            <span class="p">:</span> <span class="dl">'</span><span class="s1">[マストドンのインスタンスURL]</span><span class="dl">'</span>
			<span class="p">,</span><span class="na">access_token</span>            <span class="p">:</span> <span class="dl">'</span><span class="s1">[アクセストークン]</span><span class="dl">'</span>
			<span class="p">,</span><span class="na">account_id</span>              <span class="p">:</span> <span class="dl">'</span><span class="s1">[ユーザのアカウントID]</span><span class="dl">'</span>
			<span class="c1">// === optional parameters ===</span>
			<span class="c1">//,toots_limit           : 5</span>
			<span class="c1">// 下記のサンプルはhttp://fontawesome.io使用</span>
			<span class="c1">//,pic_icon              : '</span><span class="o">&lt;</span><span class="nx">i</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">fa fa-picture-o</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/i&gt;'</span><span class="err"> 
</span>			<span class="c1">//,boosts_count_icon     : '</span><span class="o">&lt;</span><span class="nx">i</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">fa fa-retweet</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/i&gt;</span><span class="err">'
</span>			<span class="c1">//,favourites_count_icon : '</span><span class="o">&lt;</span><span class="nx">i</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">fa fa-star</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/i&gt;</span><span class="err">'
</span>		<span class="p">});</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div> <p>上記のサンプルコードに、下記の情報を正しく設定して下さい：</p> <ul> <li>[マストドンのインスタンスURL] =&gt; 例: https://mastodon.technology</li> <li>[アクセストークン] =&gt; マストドンのインスタンスのアクセストークン</li> <li>[ユーザのアカウントID] =&gt; タイムラインの表示したいユーザのID</li> </ul> <p>3) タイムラインの為に、DIVのコンテナを追加して下さい：</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"myTimeline"</span> <span class="na">class=</span><span class="s">"mastodon-timeline mastodon-timeline-dark"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">mastodon-timeline-dark</code> の代わりに、 <code class="language-plaintext highlighter-rouge">mastodon-timeline-light</code> のテーマも用意しております。</p> <h3 id="パラメータ一覧">パラメータ一覧</h3> <p>下記のパラメータが任意です。</p> <table> <thead> <tr> <th>パラメータ名</th> <th>規定</th> <th>説明</th> </tr> </thead> <tbody> <tr> <td>toots_limit</td> <td>20</td> <td>最大トゥーツ表示数</td> </tr> <tr> <td>pic_icon</td> <td>[picture]</td> <td>画像のアイコン</td> </tr> <tr> <td>boosts_count_icon</td> <td>[boost]</td> <td>ブースト数のステータスタイトル</td> </tr> <tr> <td>favourites_count_icon</td> <td>[favourite]</td> <td>お気に入り数のステータスタイトル</td> </tr> </tbody> </table> <p><code class="language-plaintext highlighter-rouge">pic_icon</code> の場合は、<code class="language-plaintext highlighter-rouge">&lt;img src="mypicicon.gif" /&gt;</code> のような設定ができます。<br /> <a href="http://fontawesome.io">font-awesome</a>をご利用の方は<code class="language-plaintext highlighter-rouge">&lt;i class="fa fa-picture-o"&gt;&lt;/i&gt;</code> を設定もできます。<br /> 同じく、 <code class="language-plaintext highlighter-rouge">boosts_count_icon</code> と <code class="language-plaintext highlighter-rouge">favourites_count_icon</code> の設定もできます。</p> <h2 id="カスタマイズ">カスタマイズ</h2> <h3 id="テーマ">テーマ</h3> <p>以下の2つのテーマが用意されております：</p> <ul> <li>mastodon-timeline-light</li> <li>mastodon-timeline-dark</li> </ul> <p>又は、オリジナルテーマ作成も可能です。詳しくはCSSファイルを参照下さい。</p> <h3 id="フォント">フォント</h3> <p>他のフォントを使いたい方にはGoogleの<code class="language-plaintext highlighter-rouge">Noto Sans Japanese</code>フォントを準備させて頂きました。<br /> 下記のHTMLを追加して下さい：(<code class="language-plaintext highlighter-rouge">HEAD</code>タグの中に、<code class="language-plaintext highlighter-rouge">mastodon.widget.css</code>の前に)</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Noto Sans Japanese --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"//fonts.googleapis.com/earlyaccess/notosansjapanese.css"</span><span class="nt">&gt;</span>
</code></pre></div></div> <h3 id="言語サポート">言語サポート</h3> <p>別JSファイルで英語以外の設定もできます。<br /> 例えば、日本語用のファイル<code class="language-plaintext highlighter-rouge">mastodon.widget-jp.js</code>には下記の設定が含めております：</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MastodonApi</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">spoilerBtnClosed</span>  <span class="p">:</span> <span class="dl">"</span><span class="s2">もっと見る</span><span class="dl">"</span>
	<span class="p">,</span><span class="na">spoilerBtnOpened</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">隠す</span><span class="dl">"</span>
	<span class="p">,</span><span class="na">nsfwLabel</span>        <span class="p">:</span> <span class="dl">"</span><span class="s2">閲覧注意</span><span class="dl">"</span>
	<span class="p">,</span><span class="na">nsfwViewMsg</span>      <span class="p">:</span> <span class="dl">"</span><span class="s2">クリックして表示</span><span class="dl">"</span>
<span class="p">};</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">mastodon.widget.js</code>の後で、<code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>タグを読み込んで下さい。</p> </div> </article> <footer class="site-footer"> <div class="container"> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
