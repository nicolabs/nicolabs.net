<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="shortcut icon" type="image/png" href="/assets/about/favicon.ico"> <title> nicolabs | My Pgp Strategy </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="nicobo"> <meta property="article:section" content=""> <meta property="article:tag" content=""> <meta property="article:published_time" content="2021-12-24 12:10:33 +0100"> <meta property="og:url" content="http://*:4000/2021/My-pgp-strategy"> <meta property="og:title" content=" nicolabs | My Pgp Strategy "> <meta property="og:image" content="http://*:4000"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" nicolabs | My Pgp Strategy "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="http://*:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | My Pgp Strategy "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="http://*:4000"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/cactus.css" type="text/css"> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://*:4000/2021/My-pgp-strategy"> <link type="application/atom+xml" rel="alternate" href="http://*:4000/feed.xml" title="nicolabs" /> <script type="text/javascript" src="/assets/lib/cactus.js"></script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> <script> window.onscroll = function() { if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) { document.querySelector('.site-header').classList.add('site-header-pinned'); } else { document.querySelector('.site-header').classList.remove('site-header-pinned'); } }; </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/articles">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">My Pgp Strategy</h1> <p class="post-meta"> <a href="https://github.com/nicolabs/nicolabs.github.io/commits/master/_drafts/My-pgp-strategy.md" title="Read full history of this post"> <time class="datePublished" datetime="2021-12-24T12:10:33+01:00" itemprop="datePublished">Dec 24, 2021</time> </a> <span class="post-meta-separator">•</span> <span itemprop="read_time"> 8 minutes read </span> <span class="post-meta-separator">•</span> <span itemprop="maturity"><a href="/2016/Migrating-from-Drupal-to-Jekyll" title="Maturity of this article : draft < good < stable or deprecated&#xa;Click for the explanation.">Maturity : <span class="maturity-label maturity-unpublished" title="Maturity of this article : draft < good < stable or deprecated">unpublished</span> </span></a> </p> </header> <div class="post-content" itemprop="articleBody"> <h1 id="my-pgp-strategy">My PGP strategy</h1> <h2 id="balancing-security-and-usability">Balancing security and usability</h2> <p>The only truly secure data is the one that never leaves a secure enclave. From the time when a secret has been accessible by a possibly corrupted tool/network/environment/device it’s not truly safe anymore. Therefore you realize you have to use derivative secrets with different trust levels to allow your phone to sign messages, a web service to prove your ownership, … Everything is your definition and usage of the trust levels.</p> <ul> <li>GPG key set : <ul> <li>root, most secure one</li> <li>per segregation case : devices, application, service provider, …</li> </ul> </li> </ul> <h2 id="create-it">Create it</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg --expert --full-generate-key --allow-freeform-uid
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">--expert</code> gives the full choice of algorithms (I’m now always using the longest keys and strongest algorithms - ECC - I can)</li> <li><code class="language-plaintext highlighter-rouge">--allow-freeform-uid</code> allows to use an URL instead of an email (so I’m not spammed) for keys not intended for email communications. However to get benefit from automatic E-mail encryption it’s mandatory to have the encryption key (or one of its signers?) attached to a key with your email.</li> <li><em>Curve 25519</em> algorithm, based on several lectures ; it’s a bet on the future and might reveal wrong so let be ready to renew keys in some time anyway</li> </ul> <p>Choosing RSA and 4096 because of compatibility <strong>BUT does it makes sense for the primary key ???</strong>.</p> <p>Duration : for keys attached to mobile devices (smartphone, laptop you take with you in the train), it makes sense to use a reduced timelife for the keys (like 1 month ?). It will not prevent the stealer of your smartphone to use the key if he has really planned to do so, but you’ll sleep better after the key has expired.</p> <h2 id="make-it-useable">Make it useable</h2> <h3 id="on-public-directories">On public directories</h3> <p>I’ve never been far in there because of one main reason : <strong>spam</strong>.</p> <h2 id="user-interface">User interface</h2> <p>As far as I know there is no user-friendly interface. The best one for me being kgpg for years and it has missing icons on Ubuntu and still launches a terminal to properly edit keys…</p> <p>I put it on the fact that, because of its highly secure design, GPG is not easy to integrate in other programs.</p> <p>It’s not vital to have a graphic interface dedicated to gpg because most use cases are handled within a client application (e.g. mail app, chat app, …). However it’s a major pain point when coming to generate or edit keys, as people usually don’t remember gpg commands and options they use once a year…</p> <h3 id="enters-keybaseio">Enters keybase.io</h3> <p>Same problems but more integrations available. Decreased (say adapted) security but acceptable use : each one must be aware this hasn’t been battle-tested as pgp. See <a href="https://keybase.io/docs-assets/blog/NCC_Group_Keybase_KB2018_Public_Report_2019-02-27_v1.3.pdf">NCC_Group_Keybase_KB2018_Public_Report_2019-02-27_v1.3.pdf</a>.</p> <p>Account created early, lost key (as usual because I’ve just not used it enough to make it in my long-term memory).</p> <p>Main security aspects :</p> <ul> <li>It’s now using its own separate cryptography system (it’s not PGP anymore) but it can still certify PGP keys.</li> <li>It’s centralized (1 server provider ; see below)</li> <li>It eases identities spreading by: <ul> <li>providing a unique directory for identities (keybase.io)</li> <li>automatically creating a key per device, signed by any other owned key, that can be easily revoked (no more sacrosanct private key that can never be touched)</li> </ul> </li> </ul> <p>It allows to sign generic statements (not only keys) and therefore can be used to certify almost anything like ownership of online accounts (twitter, Mastodon, …) but also websites and PGP keys.</p> <p>IMHO it’s still a very nice tool to advertise online identities (including PGP keys) and allow people to send you encrypted messages without having to reveal an email address to spammers or to set up an online form.</p> <p>The apps are quite good and they provide services over the main mechanism : encrypted chat, encrypted file system, encrypted git repository. The user experience they provide is far behind the big commercial ones (far less reactive) but it does the job. The biggest issue for me is the high battery drain it occurs (my Android phone mainly, which I suspect is very dependent on the phone’s hardware).</p> <p>One huge advantage is the availability of client apps for all platforms, which made me use it to securely* exchange data between my devices (PC, Android, iOS devices) through chat or file transfer.</p> <p>I’ve started to use encrypted git repositories for not-so-sensitive-projects-that-I-still-don’t-want-to-publish to prevent me from hosting my own, but I don’t mean it as a target solution because I’m worried what would happen to my data if keybase turns off…</p> <p>The main issue for me is its centralised architecture :</p> <ul> <li>its availability and integrity depends on a unique provider (might be possible to deploy other instances but I haven’t seen any and they would not federate, defeating the purpose of being a centralised directory)</li> <li>its terms and privacy rules can change at any time</li> <li>as a cloud service, gathers data about their users (see <a href="https://keybase.io/docs/privacypolicy">their privacy policy</a>)</li> <li>as a US-hosted service it depends on US law (which forces the provider to disclose data, restricts cryptography exports)</li> </ul> <p>=&gt; unfortunately proved right on May 7, 2020 when Keybase announced they were bought by Zoom…</p> <h3 id="keyoxide">Keyoxide</h3> <p>TODO</p> <h3 id="keysopenpgporg">keys.openpgp.org</h3> <p>https://keys.openpgp.org/about/faq</p> <p>A key server that’s not part of the federated SKS pool (not compatible).</p> <p>It brings confidentiality features by separating identifying data from public one. It has plans to federated several instances.</p> <h2 id="openkeychain">OpenKeychain</h2> <p>OpenKeychain is an implementation of OpenPGP for Android.</p> <p>It let’s you generate/import/export keys and is integrated with a few essential apps.</p> <p>It has several limitations like reduced algorithms choice and forcing the presence of an email on new keys (but can import keys without one) but you probably won’t find a better app nowadays.</p> <p>It does the job.</p> <h2 id="wrap-up">Wrap up</h2> <ul> <li>master key with email</li> <li>keybase.io to advertise keys and online accounts</li> <li>separate keys per usage</li> <li>unencrypted backup on hidden USB key</li> </ul> <h2 id="references">References</h2> <ul> <li>https://alexcabal.com/creating-the-perfect-gpg-keypair</li> <li><a href="https://riseup.net/en/security/message-security/openpgp/best-practices#openpgp-key-checks">OpenPGP Best Practices</a></li> <li><a href="https://github.com/drduh/YubiKey-Guide">Guide to using YubiKey for GPG and SSH</a></li> <li><a href="https://safecurves.cr.yp.to/">SafeCurves: choosing safe curves for elliptic-curve cryptography</a></li> <li><a href="https://blog.josefsson.org/2014/06/23/offline-gnupg-master-key-and-subkeys-on-yubikey-neo-smartcard/">Offline GnuPG Master Key and Subkeys on YubiKey NEO Smartcard</a></li> <li><a href="https://www.unicoda.com/?p=3230">GnuPG, clefs, YubiKey : c’est parti</a></li> </ul> <aside class="tags"> <ul class="tags"> </ul> </aside> <!--aside class="share"> <strong>Share this :</strong> <a href="http://twitter.com/share?text=My Pgp Strategy&amp;url=http://*:4000/2021/My-pgp-strategy&amp;hashtags=web,dev,blog,soudev&amp;via=" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://*:4000/2021/My-pgp-strategy" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a> </aside--> </div> </article> <div id="comment-section"></div> <script> initComments({ node: document.getElementById("comment-section"), defaultHomeserverUrl: "https://matrix.cactus.chat:8448", serverName: "cactus.chat", /* Chat room name will be the concatenation of 'comments_', siteName, '_', commentSectionId. E.g. #comments_nicolabs.net_LineageOS4microg-Upgrade:cactus.chat */ siteName: "nicolabs.net", /* Don't use page.url as slashes are not supported : https://gitlab.com/cactus-comments/cactus-client/-/issues/62 */ commentSectionId: "My-pgp-strategy" }) </script> <noscript>Please enable JavaScript to view the <a href="https://cactus.chat" rel="nofollow">comments powered by matrix.org.</a></noscript> <footer class="site-footer"> <div class="container"> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
