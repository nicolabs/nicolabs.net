<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> nicolabs | Migrating from Drupal to Jekyll </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="nicobo"> <meta property="article:section" content=""> <meta property="article:tag" content=""> <meta property="article:published_time" content="2016-11-13 00:00:00 +0100"> <meta property="og:url" content="https://www.nicolabs.net/2016/Migrating-from-Drupal-to-Jekyll"> <meta property="og:title" content=" nicolabs | Migrating from Drupal to Jekyll "> <meta property="og:image" content="https://www.nicolabs.net"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="nic0b0"> <meta name="twitter:title" content=" nicolabs | Migrating from Drupal to Jekyll "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="https://www.nicolabs.net"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | Migrating from Drupal to Jekyll "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="https://www.nicolabs.net"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="https://www.nicolabs.net/2016/Migrating-from-Drupal-to-Jekyll"> <link type="application/atom+xml" rel="alternate" href="https://www.nicolabs.net/feed.xml" title="nicolabs" /> <script type="text/javascript"> var disqus_shortname = 'nicolabs'; </script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/tags">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">Migrating from Drupal to Jekyll</h1> <p class="post-meta"> <a href="https://github.com/nicolabs/nicolabs.github.io/commits/master/_posts/2016-11-13-Migrating-from-Drupal-to-Jekyll.md" title="Read full history of this post"> <time class="datePublished" datetime="2016-11-13T00:00:00+01:00" itemprop="datePublished">Nov 13, 2016</time> <span class="post-meta-separator">•</span> <time class="dateModified" datetime="2020-04-13T00:00:00+02:00" itemprop="dateModified">Updated on Apr 13, 2020</time> </a> <span class="post-meta-separator">•</span> <span itemprop="read_time"> 10 minutes read </span> <span class="post-meta-separator">•</span> <span itemprop="maturity"><a href="/2016/Migrating-from-Drupal-to-Jekyll" title="Maturity of this article : draft < good < stable or deprecated&#xa;Click for the explanation.">Maturity : <span class="maturity-label maturity-stable" title="Maturity of this article : draft < good < stable or deprecated">stable</span> </span></a> </p> </header> <div class="post-content" itemprop="articleBody"> <p><img src="/assets/blog/nicobo-landscape.png" alt="Previous blog's banner background" /></p> <h2 id="new-blog-concept-">New blog concept ?</h2> <p>I write articles about things that required enough amount of work for them to be considered worth sharing. Writing, in turn, also require a fair amount of work to be comprehensive and accurate enough.</p> <p>I have to admit however that I don’t have time to write advanced articles as much as I would like to. Many of them just stay unfinished in a draft state, never published…</p> <p>Therefore this blog is going to show shorter (and some unfinished) articles ! The good news is that some content that was hidden, in draft state, is going to be live !</p> <p>A first approach was to simply use a <em>git</em> branch to put drafts (usually named ‘develop’), then merge them into the ‘master’ branch ; but that would imply either to publish two blogs : ‘draft’ and ‘release’ or to create a mechanism to merge the two branches into the same blog.</p> <p>I finally opted for a label in each article indicating its <em>maturity level</em> :</p> <ul> <li><span class="post-header"><span class="post-meta"><span class="maturity-label maturity-draft">draft</span></span></span> A <em>draft</em> label means something like “This article is in the process of being written, take it carefully as it may be wrong or change tomorrow”. <strong>I don’t endorse</strong> the content of such articles even if published, however one may find its content useful in some way…</li> <li><span class="post-header"><span class="post-meta"><span class="maturity-label maturity-good">good</span></span></span> An article with a <em>good</em> maturity is one that I consider ready for publication, even if it has some minor flaws or missing parts.</li> <li><span class="post-header"><span class="post-meta"><span class="maturity-label maturity-stable">stable</span></span></span> <em>Stable</em> articles are the ones that have been published for a long time or that I consider rock-solid.</li> <li><span class="post-header"><span class="post-meta"><span class="maturity-label maturity-deprecated">deprecated</span></span></span> Some articles may explicitly be labeled as <em>deprecated</em> in order to emphasize the fact that they have deprecated content and should only be considered by people living in the past. Deprecation might not be a concept that suits perfectly within a maturity life cycle like previous labels, but for now I prefer keeping things simple and not using another tagging system.</li> </ul> <p>Please note that some articles may show a <em>stable</em> maturity while talking about <em>deprecated</em> things. This is because an article may still be relevant even when talking about supplanted technologies, and also because I’m not going to constantly review old articles to check if they’re still at the cutting edge… <a href="/articles/scaffolding-web-20">Scaffolding the Web 2.0</a> is a very good example of that case.</p> <p>In order to get an idea of the freshness of an article, I therefore print both its <em>creation</em> and <em>last update</em> times, allowing people to judge by themselves if it’s likely to be up-to-date or not.</p> <p>The paradigm I was fond of is therefore changing : a permanent URL on this blog still leads to the same article, but its content can definitely change (and break referring sources). In order to reference a content at a given fixed time, one can link to the original content on GitHub : there is a link to the full history of each article over their creation and update times labels (try with this one).</p> <p>Lastly, I still use the <a href="https://jekyllrb.com/docs/drafts/">drafts feature of Jekyll</a> to prevent publishing of <em>very</em> early notes that are just ideas or not even readable… Those can still be viewed in GitHub sources, but are not publicly rendered (I have a special <span class="post-header"><span class="post-meta"><span class="maturity-label maturity-unpublished">unpublished</span></span></span> label for myself).</p> <h2 id="migrating-paths">Migrating paths</h2> <p>Beside changing the concept, I’m also changing the platform, moving from self-hosted Drupal to Jekyll on GitHub Pages.</p> <p>During this migration I’ve tried to keep the old URLs still valid by keeping a way to make it through <em>HTTP redirects</em>. Mostly for fun.</p> <ul> <li>Assets (images) are moved to <code class="highlighter-rouge">/assets/blog/...</code> and specified as is in the markdown sources. I could have used Jekyll’s features to insert some variable but I did not want to add too much non-markdown (and framework-specific) code in the articles’ source. If the assets were to move again, it should be quite easy to replace all <code class="highlighter-rouge">/assets/blog/...</code> strings with the correct path.</li> <li>I’ve used Jekyll’s <code class="highlighter-rouge">permalink</code> option to keep the short URL of the articles so I just have to add an <em>HTTP redirect</em> to serve the new blog under the old URLs.</li> </ul> <p>There is a screenshot of what the previous blog at <a href="http://nicobo.net">nicobo.net</a> was looking like : <a href="/assets/blog/screenshots/nicobo.net-screenshot-2019-10-26%2020-00-21.png">screenshot</a>.</p> <h2 id="whats-lost">What’s lost</h2> <p>From rich HTML to Markdown, I’ve lost some of the visual/semantic styles I was using : I had to merge or get rid of some of them.</p> <p>Actually I must say that this does not really look like a bad thing : they were not <em>critical</em> to the meaning of the text and it’s easier to concentrate on the content itself.</p> <ul> <li>Lack of underlining in Markdown : I’ve used <em>normal</em> (*) or <strong>strong</strong> (**) emphasis</li> <li><code class="highlighter-rouge">file names</code> and <code class="highlighter-rouge">commands</code> used to have separate styles : although I miss this one a bit, I am now enclosing both of them in back ticks (`) and saving some seconds thinking about which style to use here.</li> <li>I used to have 2 types of block quotes : <em>notes</em> and <em>warnings</em>. I am now using markdown quotes (&gt;) for both, emphasizing important words for <em>warnings</em> types</li> <li>Pictures and text layout is now only a vertical flow : I don’t really care as it’s always been for pure visual left/right/center alignment and I used to spend a significant time building it.</li> <li>Most of the visual helps I used to render with CSS are now back as indications in the text. E.g. I could emphasize portions of code to make the reader focus on them ; now I just describe them right before/after the code</li> <li>I was using a <em>main tag</em> as a category : android, java, … Although <a href="https://jekyllrb.com/docs/posts/#categories-and-tags">jekyll supports categories</a>, I’m now using only one level of tags for the better : all tags are equals !</li> <li>No custom excerpt and picture to advertise an article in the front page (<a href="https://jekyllrb.com/docs/posts/#post-excerpts">Jekyll has this kind of feature</a> but <a href="https://github.com/nicolabs/nicolabs.net/issues/14">it’s not working out-of-the-box for me</a>, so for now there is a short excerpt automatically extracted from the first paragraph that lacks some serious markdown parsing)</li> <li>No integrated internationalization (<em>i18n</em>) but I have only few articles in french, all others are in English, and I feel it’s not going to be a lot of work to add this feature</li> </ul> <h2 id="what-i-like">What I like</h2> <ul> <li>Simplicity : the default theme, the generation mechanism, the Markdown language, everything is turned towards simplicity, allowing to concentrate on content.</li> <li>This is really close to the ideal blogging platform I was looking for my ‘work in progress’ blog concept (i.e. even drafts are published and articles are always evolving)</li> <li>Integrates very well with Atom and its <em>git</em> &amp; <em>markdown preview</em> plugins</li> <li>Last but not least, it is a very portable platform, since it’s just offline generation of HTML files and upload. GitHub automates the build so I don’t really upload generated files but to go over some limitations they put on <em>GitHub Pages</em> I may simply change hosting and then really push offline-generated content. That’s <a href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a>. Also static site generation not limited to Jekyll, <a href="https://blog.jim-nielsen.com/2018/choosing-a-static-site-generator/">there are other</a> <a href="https://github.com/myles/awesome-static-generators#photography">very promising</a> engines, even distributed ones…</li> </ul> <h2 id="what-i-dont-like">What I don’t like</h2> <ul> <li>On GitHub Pages there is <em>only one</em> theme, <em>only one</em> markdown engine : GitHub surely needs to rationalize services it provides but on my side I hope it will not lead to dead ends and migration to another host…</li> <li>No <em>autolink</em> feature for <code class="highlighter-rouge">kramdown</code>, the only supported markdown engine on GitHub Pages, which would have saved me from rewriting all links that had just their own URL as text. By the way I therefore rewrote the links’ text trimming the redundant “http://” or “www” parts, making the text more readable. For the record, I was able to do this with this single <em>regular expression</em> : <code class="highlighter-rouge">s/(https?:\/\/)(www\.)?([^\s$]+)/[$3]($1$2$3)/g</code></li> </ul> <aside class="tags"> <ul class="tags"> <li class="tag"><a href="/tags#blogging">#blogging</a></li> <li class="tag"><a href="/tags#drupal">#drupal</a></li> <li class="tag"><a href="/tags#github">#github</a></li> <li class="tag"><a href="/tags#jekyll">#jekyll</a></li> <li class="tag"><a href="/tags#web-design">#web design</a></li> </ul> </aside> <aside class="share"> <strong>Share this :</strong> <a href="http://twitter.com/share?text=Migrating from Drupal to Jekyll&amp;url=https://www.nicolabs.net/2016/Migrating-from-Drupal-to-Jekyll&amp;hashtags=web,dev,blog,soudev&amp;via=nic0b0" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.nicolabs.net/2016/Migrating-from-Drupal-to-Jekyll" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a> </aside> </div> </article> <footer class="site-footer"> <div class="container"> <small class="pull-left">&copy;2021 All rights reserved.</small> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
