<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> nicolabs | Building PyCrypto for Win32 </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="nicobo"> <meta property="article:section" content=""> <meta property="article:tag" content=""> <meta property="article:published_time" content="2012-07-30 14:09:50 +0200"> <meta property="og:url" content="https://www.nicolabs.net/articles/building-pycrypto-win32"> <meta property="og:title" content=" nicolabs | Building PyCrypto for Win32 "> <meta property="og:image" content="https://www.nicolabs.net"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="nic0b0"> <meta name="twitter:title" content=" nicolabs | Building PyCrypto for Win32 "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="https://www.nicolabs.net"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | Building PyCrypto for Win32 "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="https://www.nicolabs.net"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="https://www.nicolabs.net/articles/building-pycrypto-win32"> <link type="application/atom+xml" rel="alternate" href="https://www.nicolabs.net/feed.xml" title="nicolabs" /> <script type="text/javascript"> var disqus_shortname = 'nicolabs'; </script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> <script> window.onscroll = function() { if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) { document.querySelector('.site-header').classList.add('site-header-pinned'); } else { document.querySelector('.site-header').classList.remove('site-header-pinned'); } }; </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/tags">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">Building PyCrypto for Win32</h1> <p class="post-meta"> <a href="https://github.com/nicolabs/nicolabs.github.io/commits/master/_posts/2012-07-30-Building-PyCrypto-for-Win32.md" title="Read full history of this post"> <time class="datePublished" datetime="2012-07-30T14:09:50+02:00" itemprop="datePublished">Jul 30, 2012</time> </a> <span class="post-meta-separator">•</span> <span itemprop="read_time"> 3 minutes read </span> <span class="post-meta-separator">•</span> <span itemprop="maturity"><a href="/2016/Migrating-from-Drupal-to-Jekyll" title="Maturity of this article : draft < good < stable or deprecated&#xa;Click for the explanation.">Maturity : <span class="maturity-label maturity-deprecated" title="Maturity of this article : draft < good < stable or deprecated">deprecated</span> </span></a> </p> </header> <div class="post-content" itemprop="articleBody"> <blockquote> <p>This article contains instructions to build PyCrypto 2.6 for Windows XP (32 bits).</p> </blockquote> <p><img src="/assets/blog/python-logo-master-v3-TM-flattened-75.png" alt="Python logo" /></p> <p>The <a href="https://www.dlitz.net/software/pycrypto/">PyCrypto</a> library provides Python with implementation for a lot of algorithms for cryptography. It’s very useful.</p> <p>Ubuntu has it by default but if you want to have it for Python 3.2 on Windows, you must use <a href="http://www.activestate.com/activepython">Active Python</a>, as there is no other binary release for Python 3.2 on the web.</p> <p>In case you want to use the official Python distribution or if ActiveState did not (yet) released a PyCrypto for the version of Python you are using, this article might help you by putting together the steps to build it from source.</p> <p>Also attached : a binary <code class="language-plaintext highlighter-rouge">.exe</code> for the impatients : <a href="/assets/blog/pycrypto-2.6.win32-py3.2_0.exe">pycrypto-2.6.win32-py3.2_0.exe</a>.</p> <h2 id="building-on-windows-xp-32bits">Building on Windows XP 32bits</h2> <p>First install <em>Python</em> if not already done : <a href="http://www.python.org/download/">www.python.org/download</a>.</p> <p><em>PyCrypto</em> is an open source project so just get the package as well and unzip it : <a href="https://www.dlitz.net/software/pycrypto">www.dlitz.net/software/pycrypto</a>.</p> <p>In order to fix a bug with <em>distutils</em> and the latest version of the compiler, edit <code class="language-plaintext highlighter-rouge">&lt;Python32_root&gt;/Lib/distutils/cygwinccompiler.py</code> by removing all occurrences of <code class="language-plaintext highlighter-rouge">-mno-cygwin</code> (this option has been removed in the latest versions).</p> <p>Building PyCrypto requires a native compiler. By default it asks for <em>Visual Studio</em> but we will use <em>MinGW</em> :</p> <ol> <li>Install MinGw32 from <a href="http://sourceforge.net/projects/mingw/files/latest/download?source=files">sourceforge.net/projects/mingw</a></li> <li>Make sure to install “C++ compiler”, “C compiler” (not sure if it’s required) and “MSYS Basic System”</li> <li>Open a console with <code class="language-plaintext highlighter-rouge">&lt;MinGW_root&gt;/msys/1.0/msys.bat</code> (will give you an already set up <em>PATH</em>)</li> </ol> <p>In this console type the following distutils command from the unzipped directory of PyCrypto :</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py build <span class="nt">--compiler</span><span class="o">=</span>mingw32 <span class="nb">install</span>
</code></pre></div></div> <p>And you’re done : <strong>PyCrypto installed !</strong></p> <blockquote> <p>If you are just looking for the binary release, I’ve attached <a href="/assets/blog/pycrypto-2.6.win32-py3.2_0.exe">the installer for Win 32</a>. This is probably not an optimized binary as the compilation produced the following message : <code class="language-plaintext highlighter-rouge">warning: GMP or MPIR library not found; Not building Crypto.PublicKey._fastmath</code>…</p> </blockquote> <h2 id="errors-you-might-encounter">Errors you might encounter</h2> <h3 id="typeerror-unorderable-types-nonetype--str">TypeError: unorderable types: NoneType() &gt;= str()</h3> <p><code class="language-plaintext highlighter-rouge">gcc.exe</code> is not in the PATH (<a href="http://bugs.python.org/issue8384">bugs.python.org/issue8384</a>). Use <code class="language-plaintext highlighter-rouge">msys.bat</code> or put all necessary tools in your PATH.</p> <h3 id="runtimeerror-chmod-error">RuntimeError: chmod error</h3> <p><code class="language-plaintext highlighter-rouge">chmod.exe</code> is not in the PATH (or <em>MSYS</em> is not installed)</p> <h3 id="ioerror-unable-to-find-vcvarsallbat">IOError: Unable to find vcvarsall.bat</h3> <p><em>Visual Studio</em> is not installed (<a href="http://bugs.python.org/issue2698">bugs.python.org/issue2698</a>). Use <code class="language-plaintext highlighter-rouge">--compiler=mingw32</code>.</p> <h2 id="references">References</h2> <ul> <li>“Unable to find vcvarsall.bat” error when trying to install rdflib” - <a href="http://blog.eddsn.com/2010/05/unable-to-find-vcvarsall-bat/">blog.eddsn.com/2010/05/unable-to-find-vcvarsall-bat/</a></li> <li>An alternative ? Get binaries with pypm - <a href="http://stackoverflow.com/questions/1687283/why-cant-i-just-install-the-pycrypto">stackoverflow.com/questions/1687283/why-cant-i-just-install-the-pycrypto</a></li> <li>ActiveState’s Python distribution - <a href="http://www.activestate.com/activepython">www.activestate.com/activepython</a></li> <li>Distutils bug - <a href="http://bugs.python.org/issue12641">bugs.python.org/issue12641</a></li> <li>About Cygwin options - <a href="http://www.delorie.com/howto">www.delorie.com/howto</a></li> </ul> <aside class="tags"> <ul class="tags"> <li class="tag"><a href="/tags#cryptography">#cryptography</a></li> <li class="tag"><a href="/tags#mingw">#MinGW</a></li> <li class="tag"><a href="/tags#python">#python</a></li> <li class="tag"><a href="/tags#windows">#Windows</a></li> </ul> </aside> <aside class="share"> <strong>Share this :</strong> <a href="http://twitter.com/share?text=Building PyCrypto for Win32&amp;url=https://www.nicolabs.net/articles/building-pycrypto-win32&amp;hashtags=web,dev,blog,soudev&amp;via=nic0b0" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.nicolabs.net/articles/building-pycrypto-win32" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a> </aside> </div> </article> <footer class="site-footer"> <div class="container"> <small class="pull-left">&copy;2021 All rights reserved.</small> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
