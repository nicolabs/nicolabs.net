<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> nicolabs | AddThis for Drupal </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="nicobo"> <meta property="article:section" content=""> <meta property="article:tag" content=""> <meta property="article:published_time" content="2012-05-08 12:11:57 +0200"> <meta property="og:url" content="https://www.nicolabs.net/articles/addthis-drupal"> <meta property="og:title" content=" nicolabs | AddThis for Drupal "> <meta property="og:image" content="https://www.nicolabs.net"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="nic0b0"> <meta name="twitter:title" content=" nicolabs | AddThis for Drupal "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="https://www.nicolabs.net"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | AddThis for Drupal "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="https://www.nicolabs.net"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="https://www.nicolabs.net/articles/addthis-drupal"> <link type="application/atom+xml" rel="alternate" href="https://www.nicolabs.net/feed.xml" title="nicolabs" /> <script type="text/javascript"> var disqus_shortname = 'nicolabs'; </script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> <script> window.onscroll = function() { if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) { document.querySelector('.site-header').classList.add('site-header-pinned'); } else { document.querySelector('.site-header').classList.remove('site-header-pinned'); } }; </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/articles">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">AddThis for Drupal</h1> <p class="post-meta"> <a href="https://github.com/nicolabs/nicolabs.github.io/commits/master/_posts/2012-05-08-AddThis-for-Drupal.md" title="Read full history of this post"> <time class="datePublished" datetime="2012-05-08T12:11:57+02:00" itemprop="datePublished">May 8, 2012</time> </a> <span class="post-meta-separator">•</span> <span itemprop="read_time"> 7 minutes read </span> <span class="post-meta-separator">•</span> <span itemprop="maturity"><a href="/2016/Migrating-from-Drupal-to-Jekyll" title="Maturity of this article : draft < good < stable or deprecated&#xa;Click for the explanation.">Maturity : <span class="maturity-label maturity-stable" title="Maturity of this article : draft < good < stable or deprecated">stable</span> </span></a> </p> </header> <div class="post-content" itemprop="articleBody"> <blockquote> <p>This small article might help you to figure out quickly how to work with the AddThis module for Drupal.</p> <p>It is not a substitute to <a href="http://drupal.org/node/418356">the original documentation</a> : it just provides a concrete view of the configuration process from my experience.</p> </blockquote> <h2 id="configure-it">Configure it</h2> <p>Here is an overview of the main steps to get <em>AddThis</em> working on Drupal :</p> <ol> <li>install the module : <a href="http://drupal.org/project/addthis">drupal.org/project/addthis</a></li> <li>choose in which nodes it appears : page, story, teasers, …</li> <li>select which type of widget you want : they are called “button” and “toolbox” in the <em>configure</em> tab</li> <li>build the widget by adding components to it (only for “toolbox”) : components includes popular buttons like facebook like, google +1, tweet, but also custom elements like separator, addthis ‘more’ button</li> <li>add a <em>service customization</em> for each component you listed : this step simply provides each component with adequate parameters</li> <li>customize it more using the numerous other options</li> </ol> <h3 id="introducing-the-widget-type">Introducing the widget type</h3> <p>There are two types of widget :</p> <ul> <li><strong>button</strong> : a thin button that will open a popup menu on hover ; not obstrusive : doesn’t add too much to your design</li> <li><strong>toolbox</strong> : the most configurable ; a sequence of custom buttons</li> </ul> <p>Sample <em>button</em> : <img src="/assets/blog/addthis-button-sample.png" alt="AddThis : sample button" /></p> <p>Sample <em>toolboxes</em> you could build (from AddThis’s website) :</p> <p><img src="/assets/blog/addthis-toolbox-sample.png" alt="AddThis : sample toolboxes" /></p> <h3 id="building-a-toolbox">Building a toolbox</h3> <p>There are 3 states the widget can be :</p> <ol> <li>default, what is displayed with the page</li> <li>compact menu opened ; i.e. when the user hover the widget</li> <li>menu expanded ; i.e. when the menu is clicked on</li> </ol> <p>The configuration page of the module simply offers you to define what you put in each state with 3 fields : “Toolbox services” (the default state can only be changed for <em>toolbox</em>), “Compact menu services” and “Expanded services”.</p> <p>In each field, you will enter a comma-separated list of the components (called “service codes”) you want in your widget. The list of available “service codes” are printed on the configuration page.</p> <p>For instance, if you would put <code class="language-plaintext highlighter-rouge">facebook_like</code>,<code class="language-plaintext highlighter-rouge">tweet</code>,<code class="language-plaintext highlighter-rouge">google_plusone</code>,<code class="language-plaintext highlighter-rouge">counter_pill</code> in “Toolbox services” on your site, this would display facebook, twitter and google “+1”-like buttons, plus a button to open the AddThis menu on hover : <img src="/assets/blog/addthis-toolbox-services.png" alt="AddThis : nicobo's sample toolbox" /></p> <p>In the other states you can change the services you want to include and their order. <strong>A lot</strong> of them are available…</p> <h3 id="customize-your-services">Customize your services</h3> <p>For each component (a.k.a. “service”) added to your widget, you should add a service customization (in the “Customize services” tab) where you will list the options/parameters you want for this button : this is the way you can change the default behavior.</p> <p>Options are specific to each service so you will have to look at the provider’s developer pages, but the module provides links from its configuration page so you will reach the options list of each service within a few clicks.</p> <p>Some important details :</p> <ul> <li>In “<strong>service_code</strong>”, just put the same service code that you used in the “Toolbox services” field (i.e. “google_plusone” or “facebook_like”, …).</li> <li>The options go in the “<strong>HTML attributes</strong>” field, space separated like if they were added to the HTML tag of the widget. For instance : <code class="language-plaintext highlighter-rouge">g:plusone:annotation="none" g:plusone:size="medium"</code>.</li> <li>The “<strong>HTML classes</strong>” field must be filled because as soon as you define an entry here for a service, it looses its default classes and the button does not even shows up on the page (this should <em>really</em> be enhanced in future versions of the module). What I did to get around this was to pick the default classes and put them back in this field. For instance, for <code class="language-plaintext highlighter-rouge">google_plusone</code> I put “<code class="language-plaintext highlighter-rouge">addthis_toolbox_item addthis_button_google_plusone at300b</code>” (note the space between the 3 classes).</li> </ul> <blockquote> <p><strong>Important</strong> : you will have to manually add CSS classes in the “HTML classes” field otherwise the button will not appear. For this, simply try first with no service customization, and copy the default classes from the HTML source in this field.</p> </blockquote> <p>Few enhancements could be a better alignment of icons, since they’re not all same size. This can be fixed by choosing the appropriate widget for each button, and by adjusting their options.</p> <p>Another limitation is that you can only use one type of widget (button or toolbox) in all nodes. But this is easily patched in the <code class="language-plaintext highlighter-rouge">addthis.module</code> file :</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">addthis_link</span><span class="p">(</span><span class="nv">$type</span><span class="p">,</span> <span class="nv">$node</span> <span class="o">=</span> <span class="kc">NULL</span><span class="p">,</span> <span class="nv">$teaser</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// Check whether AddThis is set to display on this node.</span>
<span class="mf">...</span>
<span class="nv">$addthis_widget_type</span> <span class="o">=</span> <span class="nf">variable_get</span><span class="p">(</span><span class="s1">'addthis_widget_type'</span><span class="p">,</span> <span class="s1">'addthis_button'</span><span class="p">);</span>
<span class="c1">// We force here the type of widget to display in teasers</span>
<span class="c1">// The default type chosen in addthis configuration will be used in other nodes (pages)</span>
<span class="k">if</span> <span class="p">(</span> <span class="nv">$teaser</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$addthis_widget_type</span> <span class="o">=</span> <span class="s1">'addthis_button'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>Another advantage of this module is that you can add it as a block where you want. This allows for instance to add it in some unique places like once for the front page, instead of once for each article/teaser.</p> <h3 id="my-feeling">My feeling</h3> <p>After trying several social sharing modules, I’m very satisfied with this one, because it is quite configurable and supports all options for each button.</p> <p>As far as I’ve tested, it works just fine on mobile devices.</p> <p>References AddThis module for Drupal : <a href="http://drupal.org/project/addthis">drupal.org/project/addthis</a> Official AddThis website : <a href="https://www.addthis.com/get/sharing">addthis.com/get/sharing</a></p> <aside class="tags"> <ul class="tags"> <li class="tag"><a href="/tags#blogging">#blogging</a></li> <li class="tag"><a href="/tags#drupal">#drupal</a></li> <li class="tag"><a href="/tags#social">#social</a></li> </ul> </aside> <aside class="share"> <strong>Share this :</strong> <a href="http://twitter.com/share?text=AddThis for Drupal&amp;url=https://www.nicolabs.net/articles/addthis-drupal&amp;hashtags=web,dev,blog,soudev&amp;via=nic0b0" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.nicolabs.net/articles/addthis-drupal" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a> </aside> </div> </article> <footer class="site-footer"> <div class="container"> <small class="pull-left">&copy;2023 All rights reserved. Graphic banner from https://showyourstripes.info</small> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
