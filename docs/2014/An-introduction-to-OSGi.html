<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="shortcut icon" type="image/png" href="/assets/about/favicon.ico"> <title> nicolabs | An introduction to OSGi </title> <meta name="description" content=" Work in progress... "> <meta name="keywords" content="android, development, java, javascript, python, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="nicobo"> <meta property="article:section" content=""> <meta property="article:tag" content=""> <meta property="article:published_time" content="2014-05-21 10:55:52 +0200"> <meta property="og:url" content="http://*:4000/2014/An-introduction-to-OSGi"> <meta property="og:title" content=" nicolabs | An introduction to OSGi "> <meta property="og:image" content="http://*:4000"> <meta property="og:description" content=" Work in progress... "> <meta property="og:site_name" content="nicobo"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" nicolabs | An introduction to OSGi "> <meta name="twitter:description" content=" Work in progress... "> <meta name="twitter:image:src" content="http://*:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" nicolabs | An introduction to OSGi "> <meta itemprop="description" content=" Work in progress... "> <meta itemprop="image" content="http://*:4000"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/cactus.css" type="text/css"> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://*:4000/2014/An-introduction-to-OSGi"> <link type="application/atom+xml" rel="alternate" href="http://*:4000/feed.xml" title="nicolabs" /> <script type="text/javascript" src="/assets/lib/cactus.js"></script> <!-- Enable displaying pictures in full size using the Fullscreen API --> <!-- A polyfill that also simplifies the API. TODO maybe there are others closer to the norm and with more features. Still chances are this will not work on iPhone without using a full-fledged Js library. --> <script src="/assets/lib/screenfull.js/dist/screenfull.min.js"></script> <!-- This code selects which elements and how fullscreen is triggered --> <script> document.addEventListener("DOMContentLoaded", function(event) { var els = document.getElementsByClassName("plantuml"); for ( var e=0 ; e<els.length ; e++ ) { var el = els[e]; el.addEventListener('click', function() { if (screenfull.isEnabled) { screenfull.toggle(el); el.classList.toggle("fullscreen"); } else { console.log("Fullscreen not supported"); } }); } }); </script> <script> window.onscroll = function() { if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) { document.querySelector('.site-header').classList.add('site-header-pinned'); } else { document.querySelector('.site-header').classList.remove('site-header-pinned'); } }; </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">nico<span>labs</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/articles">articles</a></li> <li><a href="/feed.xml">feed</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">An introduction to OSGi</h1> <p class="post-meta"> <a href="https://github.com/nicolabs/nicolabs.github.io/commits/master/_drafts/fr/An-introduction-to-OSGi.md" title="Read full history of this post"> <time class="datePublished" datetime="2014-05-21T10:55:52+02:00" itemprop="datePublished">May 21, 2014</time> </a> <span class="post-meta-separator">•</span> <span itemprop="read_time"> 4 minutes read </span> <span class="post-meta-separator">•</span> <span itemprop="maturity"><a href="/2016/Migrating-from-Drupal-to-Jekyll" title="Maturity of this article : draft < good < stable or deprecated&#xa;Click for the explanation.">Maturity : <span class="maturity-label maturity-unpublished" title="Maturity of this article : draft < good < stable or deprecated">unpublished</span> </span></a> </p> </header> <div class="post-content" itemprop="articleBody"> <p>Présentation d’OSGi</p> <p>Cf http://www.osgi.org/Technology/WhyOSGi</p> <p>TODO</p> <p>OSGi + JNDI OSGi filters</p> <p>Types d’assets</p> <p>OSGI bundle</p> <p>~ équivalent à des JAR et WAR (-&gt; WAB) en plus : des méta-données dans META-INF/MANIFEST.MF facultatif : méta-données sur la persistence (bundle JPA) définit ses dépendances envers d’autres bundles OSGi les JAR peuvent également contenir des EJB, du JPA</p> <p>Application bundle (.EBA)</p> <p>~ équivalent à un EAR regroupement de bundles OSGi et de WAR ne peut pas importer / exporter de packages contient META-INF/APPLICATION.MF chaque application possède son propre service registry définit les services exportés et importés (dépendances)</p> <p>Deployment bundle</p> <p>Généré au moment du déploiement d’un EBA : META-INF/DEPLOYMENT.MF vision à plat de toutes les dépendances, y compris transitives non éditable</p> <p>Composite bundle (.CBA)</p> <p>regroupement de bundles importe / exporte des packages importe / exporte des services contient META-INF/COMPOSITEBUNDLE.MF</p> <p>Blueprint bundle</p> <p>&lt;=&gt; Spring dynamic modules contient des fichiers XML blueprint dans OSGI-INF/blueprint/ blueprint = framework d’injection de dépendance de services / beans en XML (&lt;=&gt; Spring application context) blueprint permet de faire le wiring des services, beans</p> <p>Avantages et inconvénients</p> <p>Avantages</p> <p>Gestion des dépendances à chaud (utile pour la cartographie ?) Cycle de vie des bundles indépendant de celui du serveur Plusieurs versions du même bundle au même moment : classloader isolés Maven-ready (à vérifier) : http://books.sonatype.com/mcookbook/reference/osgi.html Dés/installation à chaud cf également le concept d’activator cf également le concept de fragment mode “preview” avant de valider l’update un bundle OSGi reste un JAR normal (entrées dans le MANIFEST) LogService : intégration seamless avec SLF4J ? plus portable que les shared libraries Websphere EBA (OSGi application) : composé d’autres bundles OSGi =&gt; mise à jour par module possible déclaration des services importés et exportés</p> <p>Points à vérifier / inconvénients potentiels</p> <p>Pas aussi transparent qu’une shared lib (pour le développeur) : il y a une interface d’appel (de service) à respecter =&gt; refactoring du code nécessaire pour migrer shlib -&gt; OSGi cf http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.osgi.nd.doc/ae/ra_convert_ear_to_osgi.html Maturité dans WAS 8.5.5 (http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/index.jsp?topic=%2Fcom.ibm.websphere.osgi.doc%2Fae%2Fca_about.html) ? Aspects performance / sécurité ? LogService : permet de récupérer les infos du MDC / les marqueurs ? mise en cache des messages confidentiels ? Déclaration explicite des packages exportés Déploiement à chaud implique une indisponibilité temporaire des services / bundles ? Un EBA doit être un composant SCA pour exporter/importer ses services ? Restrictions connues : http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/index.jsp?topic=%2Fcom.ibm.websphere.osgi.nd.doc%2Fae%2Fra_restrict.html conversion automatique EAR -&gt; EBA possible seulement s’il ne contient que des WAR (pas de JAR ni d’EJB) En mode normal, augmentation des ressources nécessaires (&lt;=&gt; shlib en mode multiple) En mode “shared” bundle &lt;=&gt; isolated shared library</p> <p>Pros / Cons shared libs</p> <p>Avantages d’OSGi sur les shlib</p> <p>portable JEE, pas seulement Websphere plug à chaud (pas les shlib ?) contrôle à chaud des versions installées et utilisées (pas les shlib ?) déclaration de services (shlib = seulement des ressources)</p> <p>Inconvénients d’OSGi sur les shlib</p> <p>migration nécessaire (outillée mais opérations manuelles nécessaires) maturité des produits et sensibilisation des utilisateurs ?</p> <aside class="tags"> <ul class="tags"> <li class="tag"><a href="/tags#java">#java</a></li> <li class="tag"><a href="/tags#osgi">#OSGi</a></li> </ul> </aside> <!--aside class="share"> <strong>Share this :</strong> <a href="http://twitter.com/share?text=An introduction to OSGi&amp;url=http://*:4000/2014/An-introduction-to-OSGi&amp;hashtags=web,dev,blog,soudev&amp;via=" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://*:4000/2014/An-introduction-to-OSGi" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a> </aside--> </div> </article> <div id="comment-section"></div> <script> initComments({ node: document.getElementById("comment-section"), defaultHomeserverUrl: "https://matrix.cactus.chat:8448", serverName: "cactus.chat", /* Chat room name will be the concatenation of 'comments_', siteName, '_', commentSectionId. E.g. #comments_nicolabs.net_LineageOS4microg-Upgrade:cactus.chat */ siteName: "nicolabs.net", /* Don't use page.url as slashes are not supported : https://gitlab.com/cactus-comments/cactus-client/-/issues/62 */ commentSectionId: "An-introduction-to-OSGi" }) </script> <noscript>Please enable JavaScript to view the <a href="https://cactus.chat" rel="nofollow">comments powered by matrix.org.</a></noscript> <footer class="site-footer"> <div class="container"> <small class="pull-right">by <a rel="me" href="/about#contact">@nicobo</a></small> </div> </footer> </main> </body> </html>
